<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>iTech Solutions - Cart</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css">
    <link rel="stylesheet" href="/styles.css">
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <div class="container-fluid">
            <a class="navbar-brand fw-bold text-uppercase" href="/index.html">iTech Solutions</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                     <li class="nav-item"><a class="nav-link" href="/index.html"><i class="bi bi-house me-2"></i>Home</a></li>
                    <li class="nav-item"><a class="nav-link active" href="/about.html"><i class="bi bi-info-circle me-2"></i>About Us</a></li>
                    <li class="nav-item"><a class="nav-link" href="/products.html"><i class="bi bi-laptop me-2"></i>Products</a></li>
                    <li class="nav-item"><a class="nav-link" href="/cart.html"><i class="bi bi-cart me-2"></i>Cart</a></li>
                     <li class="nav-item"><a class="nav-link" href="/service.html"><i class="bi bi-tools me-2"></i>Service</a></li>
                    <li class="nav-item"><a class="nav-link" href="/admin.html"><i class="bi bi-gear me-2"></i>Admin</a></li>
                </ul>
            </div>
        </div>
    </nav>

    <main class="p-4">
        <section class="cart container-fluid">
            <h1 class="display-4 fw-bold text-primary text-center mb-4">Your Cart</h1>
            <div class="cart-items list-group" id="cart-items">
                <div class="text-center text-muted py-4">Loading cart...</div>
            </div>

            <!-- SHIPPING DETAILS -->
            <div class="shipping bg-white p-4 rounded shadow mt-4">
                <h2 class="h4 fw-semibold mb-3">Shipping Details</h2>

                <form class="d-flex flex-column flex-md-row flex-wrap gap-3 mb-3">
                    <div class="flex-fill">
                        <input type="text" id="customer-name" name="customer-name" placeholder="Your Full Name" class="form-control" required>
                    </div>
                    <div class="flex-fill">
                        <input type="text" id="address" placeholder="Enter your address" class="form-control" required>
                    </div>
                    <div class="flex-fill">
                        <select id="state" class="form-select" required>
                            <option value="">Select State / UT</option>
                            <option value="Andaman and Nicobar Islands">Andaman and Nicobar Islands</option>
                            <option value="Andhra Pradesh">Andhra Pradesh</option>
                            <option value="Arunachal Pradesh">Arunachal Pradesh</option>
                            <option value="Assam">Assam</option>
                            <option value="Bihar">Bihar</option>
                            <option value="Chandigarh">Chandigarh</option>
                            <option value="Chhattisgarh">Chhattisgarh</option>
                            <option value="Dadra and Nagar Haveli and Daman and Diu">Dadra and Nagar Haveli and Daman and Diu</option>
                            <option value="Delhi">Delhi</option>
                            <option value="Goa">Goa</option>
                            <option value="Gujarat">Gujarat</option>
                            <option value="Haryana">Haryana</option>
                            <option value="Himachal Pradesh">Himachal Pradesh</option>
                            <option value="Jammu and Kashmir">Jammu and Kashmir</option>
                            <option value="Jharkhand">Jharkhand</option>
                            <option value="Karnataka">Karnataka</option>
                            <option value="Kerala">Kerala</option>
                            <option value="Ladakh">Ladakh</option>
                            <option value="Lakshadweep">Lakshadweep</option>
                            <option value="Madhya Pradesh">Madhya Pradesh</option>
                            <option value="Maharashtra">Maharashtra</option>
                            <option value="Manipur">Manipur</option>
                            <option value="Meghalaya">Meghalaya</option>
                            <option value="Mizoram">Mizoram</option>
                            <option value="Nagaland">Nagaland</option>
                            <option value="Odisha">Odisha</option>
                            <option value="Puducherry">Puducherry</option>
                            <option value="Punjab">Punjab</option>
                            <option value="Rajasthan">Rajasthan</option>
                            <option value="Sikkim">Sikkim</option>
                            <option value="Tamil Nadu">Tamil Nadu</option>
                            <option value="Telangana">Telangana</option>
                            <option value="Tripura">Tripura</option>
                            <option value="Uttar Pradesh">Uttar Pradesh</option>
                            <option value="Uttarakhand">Uttarakhand</option>
                            <option value="West Bengal">West Bengal</option>
                        </select>
                    </div>
                </form>

                <!-- GOA PICKUP OPTION -->
                <div class="goa-pickup d-none mb-3 card p-3 border-success" id="goa-pickup">
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" id="pickup">
                        <label class="form-check-label text-success fw-semibold" for="pickup">
                            Pickup from dealer (Free)
                        </label>
                    </div>
                </div>

                <!-- DELIVERY TEXT ONLY (NO CHARGE) -->
                <p class="text-muted mb-1">
                    Delivery: 
                    <strong>
                        <span id="delivery-mode">Standard Courier</span>
                    </strong>
                </p>

                <p class="text-muted fw-bold">Total: <span id="total">0</span> Rs</p>

                <div class="order-buttons d-flex flex-wrap gap-3 justify-content-center mt-4">
                    <button id="order-call" class="btn btn-outline-primary">
                        Order via Call
                    </button>
                    <button id="order-whatsapp" class="btn btn-success">
                        Order via WhatsApp
                    </button>
                </div>
            </div>
        </section>

        <footer class="text-center py-4 mt-5 border-top">
            <p>Â© 2025 iTech Solutions. All rights reserved.</p>
        </footer>
    </main>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="/script.js"></script>

    <!-- Wait for products -->
    <script>
        window.addEventListener('load', async () => {
            if (window.location.pathname.includes('cart.html')) {
                await new Promise(resolve => {
                    const check = () => window.products?.length > 0 ? resolve() : setTimeout(check, 50);
                    check();
                });
                displayCart();
            }
        });
    </script>
</body>
</html>